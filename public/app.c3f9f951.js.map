{"version":3,"sources":["js/content.js","js/list.js","js/reset-form.js","js/form.js","js/app.js"],"names":["Content","container","data","_init","_render","addEventListener","handleClickList","innerHTML","id","btnNode","document","createElement","classList","value","textContent","setAttribute","_clickEditBtn","event","currentTarget","getAttribute","form","querySelector","nameField","contentField","idField","dateField","numberField","lastNameField","surNameField","workField","mailField","fetch","method","then","response","json","list","forEach","item","name","content","date","number","lastName","surName","work","mail","$","modal","catch","error","console","_clear","btEdit","_createEditButton","template","append","List","activeListItem","_clickList","bind","remove","target","includes","add","_removeActive","resetForm","reset","querySelectorAll","input","Form","btnSubmit","listContainer","contentContainer","handleSubmit","_submit","num","parsedNum","day","_parseNumber","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","url","headers","body","JSON","stringify","preventDefault","currentMethod","currentDate","Date","_setMetaData","getTime","_buildDate","formData","FormData","checkValidity","_send","formNode","createBtnNode","listNode"],"mappings":";;AIAA;;AACA;;AACA;ADFA,AFAA;AGIA,IAAMyG,QAAQ,GAAG/F,QAAQ,CAACW,aAAT,CAAuB,OAAvB,CAAjB;AACA,ADJA,ICIIiD,UAAJ,CAASmC,QAAT,GAEA;;AAEA,ADPA,ICOMC,aAAa,GAAGhG,QAAQ,CAACW,aAAT,CAAuB,YAAvB,CAAtB;AACAqF,aAAa,CAACrG,gBAAd,CAA+B,OAA/B,EAAwC,YAAM;AAC5CoG,EAAAA,EJXWzG,MIWH,CAACe,YAAT,CAAsB,aAAtB,EAAqC,MAArC;AACA,AJXA,mBAAYd,SIWFwG,AJXV,EAAuBvG,IAAvB,EIWA,AJX6B;AIY7B6C,AJZ6B,EIY7BA,CAAC,CAAC,AHXSU,YGWV,CAAD,CAAgBT,KAAhB,CAAsB,MAAtB;AACD,AHXC,CGOF,eHPc/C,SAAZ,EAAuBC,IAAvB,EAA6B;AGa/B,AJdI,ACC2B,IGazByG,KJdG1G,GIcK,GAAGS,GJdb,GAAiBT,EIcI,CAACoB,MJdtB,OIca,CAAuB,OAAvB,CAAjB;AAEAU,AJfI,KIeC,CAAC,GJfG7B,IAAL,GAAYA,CIeX,EAAc,CJff;AIeiB8B,AHdjB,ACJJ,EEkBqBA,MAAM,CHdlB/B,CGcoB,QHdzB,GAAiBA,SAAjB;AGce,AJbf,ACAA,ACJJ,CEiBK,CAAL,CACGgC,IADH,CACQ,CJdC9B,ACAAD,IAAL,CDAA,ECAYA,EGcPgC,EHdL,MGcI;AAAA,AJbL,ACAC,ACJG,SEiBeA,AHbbwB,ACJOQ,QEiBc,CAAC/B,AFjBxB,CAAmBf,GEiBJ,CHblB,ACJG,CEiBC,CFjBwB,CDIN,IAAtB;AGaI,AHXJ,ACLFA,CEeF,CFfEA,CEiBCa,GFjBG,CEeN,AFfOkC,CEiBC,CHZC7D,GCLP,GAD8B,CAG9B,EEeOJ,IAAD,EHZJ,GAAuB,KAAKyD,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAvB;AGYI,SAAU,IAAIH,UAAJ,CAASkD,QAAT,EAAmBzG,IAAI,CAACkC,IAAxB,CAAV;AAAA,AHVJ,ACJF,CEYF,EAGGa,KAHH,CAGS,AHXA9C,KAAL,KGWM+C,EFfJ9B,GEeG,CFfC,CAACgD,gBAAL,CAAsB,iBAAtB,CAAJ,EAA8C/B,OAA9C,CAAsD,UAACgC,KAAD,EAAW;AEe1D,AHVN,ACJCA,IAAAA,KEcgBlB,AFdX,CAACtC,KAAN,CEcuB,CAACqC,CFdV,EAAd,EEcgB,CAAcA,KAAd,AJbV,CIaD;AAAA,AJZL,AEDD,CEUH,EFZE,QFGO9C,OAAL;AEAH;AFCG,WAAKH,SAAL,CAAeI,gBAAf,CAAgC,OAAhC,EAAyC,KAAKC,eAA9C;AACD,4BCEO;AACN,WAAKF,OAAL;;AACA,WAAKH,SAAL,CAAeI,QDFR,QCEP,CAAgC,OAAhC,EAAyC,KAAKC,eAA9C;ADDA,ACED,IEZUgE,OHUJrE,SAAL,CAAeM,SAAf,GAA2B,EAA3B;AACD,AGVD,gBAAYa,IAAZ,EAAkB;AAAA;6BFaT;AEZP,AFaA,SEbKA,EFaAnB,EEbL,GAAYmB,IAAZ,AFaA,CAAeb,SAAf,GAA2B,EAA3B,GDFgBC,IAAI;AACpB,AGXA,AFaD,SEbMgB,CHWCf,MGXN,CHWa,EGXEC,CHWCA,OGXO,CHWC,AGXAW,CHWCV,YGXV,CHWC,AGXsB,CHWC,SAAvB,CAAhB,EGXe,CAAf;AHaAF,AGZA,MHYAA,GGZKgB,IHYE,CAACb,IGZR,GAAiBF,EHYjB,CAAkBG,KAAlB,AGZyB,CAACQ,EHYA,WGZT,CAAuB,aHYxC,EGZiB,CAAjB;AHaAZ,AGXA,MHWAA,GGXK8D,IHWE,CAACzD,IGXR,GAAiBJ,IHWjB,GAAsB,CGXG,CAACW,aHW1B,AGXiB,CAAuB,iBAAvB,CAAjB;AHYAZ,AGVA,MHUAA,GGVK+D,IHUE,CAACzD,QGVR,GAAqBL,CHUrB,CAAqB,MGVQ,CAACW,EHU9B,ACAc,EDAkBb,EAAhC,OGVqB,CAAuB,OAAvB,CAArB;AHYAC,AGXA,AFUA,MDCAA,GGXKgE,CFUD,CAAC,EDCE,CAACpE,ECDEqD,SEVV,GAAwBhD,EHWxB,ACDA,CDCyB,CCDC,IEVM,CAACW,CHWjC,EAAkC,KAAKL,KGXf,CAAuB,OHW/C,GGXwB,CAAxB;AHaA,AGXA,AFUA,SEVK0D,EFUAhB,EDCEjD,OAAP,CGXA,GAAoB,CFUpB,CAAoBG,GEVK+D,MFUzB,CEVoB,AFUUd,CEVGD,IAAb,CAAkB,AFUtC,CAAqC,GEVjB,CAApB,IFUA;ADED,ACDA;AETC,SAAKzD,KAAL;AACD;+BFUUc,GDCGA,ICDI,GDCG;AACnB,ACDA,UDCMT,ACDAsD,EDCE,GAAG7C,CCDC,GAAGA,CDCC,CAACC,GCDG,CAAC4C,MAArB,GDCW,CAAoB3C,YAApB,CAAiC,SAAjC,CAAX;AACA,UAAMC,IAAI,GAAGV,QAAQ,CAACW,aAAT,CAAuB,OAAvB,CAAb;AACA,ACDA,UDCMC,ACDFwC,MAAM,CAAClD,EDCI,GAAGQ,IAAI,ACDlB,CDCmBC,ACDFR,CEXf,IFWF,CAAuBkD,ODCT,CAAmB,ACDjC,CAAgC,WAAhC,CAAJ,EDCkB,ACDgC,CDClD;AACA,AGZA,AFWE,UDCIxC,CGZDgD,CFWG/D,EAAE,GAAGsD,GEXb,CAAezD,CHYG,CCDC,CAACc,CDCCC,IAAI,CAACC,MCDb,CEXb,AFWiC,CEXD,KHYX,CAAmB,CGZxC,CFWa,CEX4B,AFWvC,KEX4CqD,UHYzB,CAArB,CGZA;AHaA,AGZD,AFYGZ,MEVJ,EFUIA,EDAItC,ICAE,CAACZ,EDAI,GAAGQ,IAAI,ACAlB,CDAmBC,ACAF2C,GAAjB,CAAqB,QAArB,CDAc,CAAmB,aAAnB,CAAhB;AACA,UAAMvC,SAAS,GAAGL,IAAI,CAACC,aAAL,CAAmB,eAAnB,CAAlB;AAEA,ACFE,UDEIK,GCFCuC,QDEU,GAAG7C,ECFlB,EDEsB,CAACC,aAAL,CAAmB,iBAAnB,CAApB;AACA,UAAMM,aAAa,GAAGP,IAAI,CAACC,aAAL,CAAmB,mBAAnB,CAAtB;AACA,ACHE,UDGIO,GCHC8B,SDGW,GAAGtC,ECHnB,EDGuB,CAACC,ACHFyC,GEXbc,GFWT,EEXc,KHcK,CAAmB,kBAAnB,CAArB;AACA,AGdA,AFYE7C,QAAAA,EDEIF,AGdFgD,GFYG,CAAC,KDEO,AGdF,GHcKzD,AGdFwD,GAAhB,AFYO,CDEe,CAACvD,ACFF,aDEH,CAAmB,eAAnB,CAAlB;AACA,AGbA,AFUuBW,UDGjBF,ACHiBE,GEVhB6C,GFUsB,EAAE,CDGhB,GAAGzD,AGbF,GAAG,CHaG,CAACC,AGbhB,GAAiB,MAAMwD,IHaZ,CAAmB,IGb9B,GAAmCA,QHaxB,CAAlB,AGbA;AHeAzD,AGdD,AFSsB,MDKrBA,GCLO,CDKH,ACLF,CDKGL,ACJAkB,IADH,CACQ,ODIV,CAAkB,ECJPC,QAAD,GDIV,EAAiC,KAAjC;AAEAH,ACNU,MDMVA,KAAK,CAAC,KCNkBG,MDMnB,EAAc,ACNa,CAACC,IAAT,EAAd;ADMWH,ACNX,QDMWA,CCPnB,EAEGC,GDKsB,CCPzB,CDO2B,ACLnB,UAAC/B,IAAD;ADKS,ACLT,ODKL,CAAL,CACG+B,IADH,CACQ,GCLF/B,IAAI,CAACkC,EDKFF,ECLH,CAAUG,IEVPI,CHeD,ECLF,CAAkB,EEVT,QFUUH,IAAD,EAAU;ADK1B,AGdR,AFUQ,eDIcJ,CCJV1B,EAAE,IAAI8B,CDIY,CAACH,ECJT,CAAC3B,CDID,CCJd,CDIA,CCJmB;ADInB,AGbR,AFUU,ODEV,EAEGyB,CGdC6C,GHYJ,AGZO,CHcC,EGdE,EFUI9E,GEVC+E,GHcN7E,IAAD,EAAU,GGdR,CAAkBuC,AFUlB,CAAY/B,GEVU,CAACsE,IFUH,CAAC3D,EEVH,EAAlB,CAAV,QFUsB,CAAuB,UAAvB,CAAZ,EAAgDiB,IAAhD;ADKNpC,ACJK,QDILA,IAAI,CAACkC,IAAL,CAAUC,OAAV,CAAkB,UAACC,IAAD,EAAU;AAC1B,AGfN,AFWO,UEXH2C,CFOE,CADI,EDSAzE,CGfD,CHeG,EGfA,EHeI8B,GGfCyC,CHeG,CAACvE,EAAf,EAAmB,MGfb,CAAkBiC,IAAI,CAACyC,QAAL,KAAkB,CAApC,CAAZ;AHgBQ5D,ACVE,SAFR,EASG2B,CDGG3B,ICZN,CASS,IDGM,CAACT,KAAV,ACHIqC,GDGcZ,ECHf,EDGmB,CAACC,IAAvB;AAEAhB,AGjBR,AFYW,UEZP4D,EHiBI5D,EGjBA,GAAGkB,AFYWU,IEZP,CAACiC,EHiBI,ACLS,CDKRvE,ACLSqC,KDKtB,ACLc,CAAcA,EDKPZ,AGjBlB,EAAX,CFYsB,CDKW,ACLtB,CDKuBE,OAA1B;AACAhB,ACNG,SATT,GDeMA,OAAO,CAACX,KAAR,GAAgByB,IAAI,CAAC9B,EAArB;AACAiB,AGjBR,AFWC,UEXG4D,EHiBI5D,GGjBC,GAAG,GHiBK,CAACZ,CGjBDkE,IHiBT,GAAkBzC,IAAI,CAACG,AGjBnB,CAAkBA,GHiBtB,CGjB0B,CAAC6C,QAAL,EAAlB,CAAZ;AHmBQ5D,ACPT,YDOSA,WAAW,CAACb,KAAZ,GAAoByB,IAAI,CAACI,MAAzB;AACAf,AGnBR,UAAI4D,EHmBI5D,KGnBG,GAAG,KHmBO,AGnBFoD,CHmBGlE,KAAd,GAAsByB,GGnBhB,CHmBoB,AGnBFG,CHmBGE,GGnBC,CAAC6C,IHmB7B,MGnBwB,EAAlB,CAAd;AHoBQ5D,YAAAA,YAAY,CAACf,KAAb,GAAqByB,IAAI,CAACM,OAA1B;AACAf,AGnBR,YHmBQA,SAAS,CAAChB,CGnBRiE,GAAV,CHmBQ,GAAkBxC,ACRlB,IDQsB,CAACO,IAAvB,CGnBSoC,KAAjB,cAA0BE,IAA1B,cAAkCE,KAAlC,cAA2CE,OAA3C;AHoBQzD,AGnBT,AFUS,MERV,MHiBUA,SAAS,CAACjB,KAAV,GAAkByB,IAAI,CAACQ,IAAvB;AAEAC,YAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBC,KAAhB,CAAsB,MAAtB;AACD,ACXP,WAAKI,MAAL;ADYK,SAhBD;AAiBD,ACXH,ODTA,EAqBGH,ECZE/C,GDTL,CAqBS,ACZT,CAAUmC,OAAV,CAAkB,CDYRa,CGtBNhD,IHsBK,EGtBC8B,EFUSM,IAAD,EEVA,AFUU;ADYnB,AGtBS,AFWhB,YAAMiB,GDWYJ,KCXJ,EDWW,CAACD,KAAR,CAAcA,KAAd,CAAX,+CCViCZ,IAAI,CAAC9B,EAD/B,gCAEJ8B,IAAI,CAACC,IAFD,qCAGDD,IAAI,CAACG,IAHJ,qCAAd;ADWO,ACJP,ODjBF,CCiBE,KAAI,CAACxC,SAAL,CAAeM,SAAf,GAA2B,KAAI,CAACN,SAAL,CAAeM,SAAf,GAA2BgD,QAAtD;ADKH,AGtBC,AFkBC,OATD,GETIkC,GAAG,GAAG,WAAV;AAEA,AFiBD,UEjBKzD,MAAM,IAAI,KAAd,EAAqByD,GAAG,GAAGA,GAAG,cAAOvF,IAAI,CAACM,EAAZ,CAAT;AAErB,UAAMC,OAAO,GAAGC,QAAQ,CAACW,aAAT,CAAuB,SAAvB,CAAhB;AACA,UAAMb,EAAE,GAAGC,OAAO,CAACU,OHmBX,KGnBG,CAAqB,SAArB,CAAX;AHoBA,AGlBAY,MAAAA,KHkBKqB,AGlBA,CAACqC,GAAD,EHkBL,AGlBW;AACTzD,QAAAA,MAAM,EAANA,MADS;AHoBX,AGlBE0D,QAAAA,EHkBIrC,KGlBG,CHkBG,CGlBD,EHkBI,KAAKC,iBAAL,CAAuB,KAAKpD,IAAL,CAAUM,EAAjC,CAAf;AGjBI,0BAAgB;AHmBpB,AGpBW,SAFA,CHsBL+C,QAAQ,6DAEN,KAAKrD,IAAL,CAAUqC,IAFJ,qJAG8B,KAAKrC,IAAL,CAAUuC,IAHxC,2EAII,KAAKvC,IAAL,CAAUwC,MAJd,4EAKI,KAAKxC,IAAL,CAAUyC,QALd,kFAMK,KAAKzC,IAAL,CAAU0C,OANf,wFAOM,KAAK1C,IAAL,CAAU2C,IAPhB,gEAQE,KAAK3C,IAAL,CAAU4C,IARZ,4EASI,KAAK5C,IAAL,CAAUsC,OATd,iBAAd;AAWA,AG5BEmD,QAAAA,GH4BG1F,CG5BC,EAAE2F,IAAI,CAACC,CH4Bb,CAAetF,OG5BP,CAAeL,CH4BvB,GAA2B,AG5BnB,KH4BwBD,SAAL,CAAeM,SAAf,GAA2BgD,QAAtD;AACA,AGlCW,OAAN,CAAL,CAOGtB,EH2BEhC,EGlCL,CAOQ,MH2BR,CAAeuD,GG3BNtB,GH2BT,CAAsBmB,IG3Bd,EH2BR;AACD,AG5BS,eAAcnB,QAAQ,CAACC,IAAT,EAAd;AAAA,OAPR,EAQGF,IARH,CAQQ,UAAC/B,IAAD;AAAA,eAAU,IAAIuD,UAAJ,CAAS,KAAI,CAACe,aAAd,EAA6BtE,IAAI,CAACkC,IAAlC,CAAV;AAAA,OARR,EASGH,IATH,CASQ,UAAC/B,IAAD;AAAA,eACJA,IAAI,CAACkC,IAAL,CAAUC,OAAV,CAAkB,UAACC,IAAD,EAAU;AAC1B,cAAI9B,EAAE,IAAI8B,IAAI,CAAC9B,EAAf,EAAmB;AACjB,gBAAIR,gBAAJ,CAAY,KAAI,CAACyE,gBAAjB,EAAmCnC,IAAnC;AACD;AACF,SAJD,CADI;AAAA,OATR,EAgBGW,KAhBH,CAgBS,UAACC,KAAD;AAAA,eAAWC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAX;AAAA,OAhBT;AAiBD;;;iCAEY1C,IAAIiC,MAAM;AACrB;AACA,UAAI,KAAKjB,OAAL,CAAaX,KAAb,IAAsB,KAAKY,SAAL,CAAeZ,KAAzC,EAAgD;AAEhD,WAAKW,OAAL,CAAaX,KAAb,GAAqBL,EAArB;AACA,WAAKiB,SAAL,CAAeZ,KAAf,GAAuB4B,IAAvB;AACD;;;4BAEOxB,OAAO;AACbA,MAAAA,KAAK,CAAC6E,cAAN;AACA,UAAMC,aAAa,GAAG,KAAK3E,IAAL,CAAUD,YAAV,CAAuB,aAAvB,CAAtB;AAEA,UAAM6E,WAAW,GAAG,IAAIC,IAAJ,EAApB;;AACA,WAAKC,YAAL,CAAkBF,WAAW,CAACG,OAAZ,EAAlB,EAAyC,KAAKC,UAAL,CAAgBJ,WAAhB,CAAzC;;AAEA,UAAMK,QAAQ,GAAG,IAAIC,QAAJ,CAAa,KAAKlF,IAAlB,CAAjB;AACA,UAAMlB,IAAI,GAAG,EAAb;;AACA,UAAI,CAAC,KAAKkB,IAAL,CAAUmF,aAAV,EAAL,EAAgC;AAC9B,aAAKnF,IAAL,CAAUR,SAAV,CAAoBoD,GAApB,CAAwB,SAAxB;AACD,OAFD,MAEO;AACL,aAAK5C,IAAL,CAAUR,SAAV,CAAoBiD,MAApB,CAA2B,SAA3B;;AADK,mDAGuBwC,QAHvB;AAAA;;AAAA;AAGL,8DAAsC;AAAA;AAAA,gBAA1B9D,IAA0B;AAAA,gBAApB1B,KAAoB;;AACpCX,YAAAA,IAAI,CAACqC,IAAD,CAAJ,GAAa1B,KAAb;AACD;AALI;AAAA;AAAA;AAAA;AAAA;;AAOL,aAAK2F,KAAL,CAAWtG,IAAX,EAAiB6F,aAAjB;;AAEA,kCAAU,KAAK3E,IAAf;AACA2B,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBC,KAAhB,CAAsB,MAAtB,EAVK,CAU0B;AAChC;AACF","file":"app.c3f9f951.js","sourceRoot":"..\\client","sourcesContent":["export class Content {\r\n  constructor(container, data) {\r\n    this.container = container;\r\n    this.data = data;\r\n\r\n    this._init();\r\n  }\r\n\r\n  _init() {\r\n    this._render();\r\n    this.container.addEventListener(\"click\", this.handleClickList);\r\n  }\r\n\r\n  _clear() {\r\n    this.container.innerHTML = \"\";\r\n  }\r\n\r\n  _createEditButton(id) {\r\n    const btnNode = document.createElement(\"btnEdit\");\r\n\r\n    btnNode.classList.value = \"btn btn-warning mt-auto\";\r\n    btnNode.textContent = \"Редактировать\";\r\n    btnNode.setAttribute(\"data-id\", id);\r\n\r\n    btnNode.addEventListener(\"click\", this._clickEditBtn);\r\n\r\n    return btnNode;\r\n  }\r\n\r\n  _clickEditBtn(event) {\r\n    const id = event.currentTarget.getAttribute(\"data-id\");\r\n    const form = document.querySelector(\"#form\");\r\n    const nameField = form.querySelector('[name=\"name\"]');\r\n    const contentField = form.querySelector('[name=\"content\"]');\r\n    const idField = form.querySelector('[name=\"id\"]');\r\n    const dateField = form.querySelector('[name=\"date\"]');\r\n\r\n    const numberField = form.querySelector('[name=\"number\"]');\r\n    const lastNameField = form.querySelector('[name=\"lastName\"]');\r\n    const surNameField = form.querySelector('[name=\"surName\"]');\r\n    const workField = form.querySelector('[name=\"work\"]');\r\n    const mailField = form.querySelector('[name=\"mail\"]');\r\n\r\n    form.setAttribute(\"data-method\", \"PUT\");\r\n\r\n    fetch(\"/api/data\", { method: \"GET\" })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        data.list.forEach((item) => {\r\n          if (id == item.id) {\r\n            nameField.value = item.name;\r\n\r\n            contentField.value = item.content;\r\n            idField.value = item.id;\r\n            dateField.value = item.date;\r\n\r\n            numberField.value = item.number;\r\n            lastNameField.value = item.lastName;\r\n            surNameField.value = item.surName;\r\n            workField.value = item.work;\r\n            mailField.value = item.mail;\r\n\r\n            $(\"#formModal\").modal(\"show\");\r\n          }\r\n        });\r\n      })\r\n      .catch((error) => console.error(error));\r\n  }\r\n\r\n  _render() {\r\n    this._clear();\r\n\r\n    const btEdit = this._createEditButton(this.data.id);\r\n\r\n    const template = `\r\n    <div class=\"header_content\">\r\n      <h3>${this.data.name}</h3></div>\r\n      <h6 class=\"text-muted\">Создано/Изменено ${this.data.date}</h6>\r\n      <div>Телефон: ${this.data.number}</div>\r\n      <div>Фамилия: ${this.data.lastName}</div>\r\n      <div>Отчество: ${this.data.surName}</div>\r\n      <div>Должность: ${this.data.work}</div>\r\n      <div>Емайл: ${this.data.mail}</div>\r\n      <div>Заметка: ${this.data.content}</div>\r\n    `;\r\n    this.container.innerHTML = this.container.innerHTML + template;\r\n    this.container.append(btEdit);\r\n  }\r\n}\r\n","import { Content } from \"./content\";\r\n\r\nexport class List {\r\n  constructor(container, data) {\r\n    this.container = container;\r\n    this.data = data;\r\n    this.activeListItem = null;\r\n\r\n    this.handleClickList = this._clickList.bind(this);\r\n\r\n    this._init();\r\n  }\r\n\r\n  _init() {\r\n    this._render();\r\n    this.container.addEventListener(\"click\", this.handleClickList);\r\n  }\r\n\r\n  _clear() {\r\n    this.container.innerHTML = \"\";\r\n  }\r\n\r\n  _removeActive() {\r\n    if (!this.activeListItem) return;\r\n\r\n    this.activeListItem.classList.remove(\"active\");\r\n  }\r\n\r\n  _clickList(event) {\r\n    const target = event.target;\r\n\r\n    if (target.classList.value.includes(\"list-item\")) {\r\n      const id = target.getAttribute(\"data-id\");\r\n\r\n      target.classList.add(\"active\");\r\n      this._removeActive();\r\n      this.activeListItem = target;\r\n\r\n      fetch(\"/api/data\", { method: \"GET\" })\r\n        .then((response) => response.json())\r\n        .then((data) =>\r\n          data.list.forEach((item) => {\r\n            if (id == item.id) {\r\n              new Content(document.querySelector(\"#content\"), item);\r\n            }\r\n          })\r\n        )\r\n        .catch((error) => console.error(error));\r\n    }\r\n  }\r\n\r\n  _render() {\r\n    this._clear();\r\n\r\n    this.data.forEach((item) => {\r\n      const template = `\r\n        <div class=\"list-item p-3\" data-id=\"${item.id}\">\r\n          <h5>${item.name}</h5>\r\n          <small>${item.date}</small>\r\n        </div>\r\n      `;\r\n\r\n      this.container.innerHTML = this.container.innerHTML + template;\r\n    });\r\n  }\r\n}\r\n","// Скрытые поля не сбрасывают значение при вызове form.reset(),\r\n// делаем очистку формы в отдельной функции\r\nexport function resetForm(form) {\r\n  form.reset();\r\n\r\n  // Найдём все скрытые поля в форме и сбросим их значение\r\n  [...form.querySelectorAll('[type=\"hidden\"]')].forEach((input) => {\r\n    input.value = '';\r\n  });\r\n}\r\n","import { List } from \"./list\";\r\nimport { Content } from \"./content\";\r\nimport { resetForm } from \"./reset-form\";\r\n\r\nexport class Form {\r\n  constructor(form) {\r\n    this.form = form;\r\n    this.idField = document.querySelector('[name=\"id\"]');\r\n    this.dateField = document.querySelector('[name=\"date\"]');\r\n\r\n    this.btnSubmit = document.querySelector('[type=\"submit\"]');\r\n\r\n    this.listContainer = document.querySelector(\"#list\");\r\n    this.contentContainer = document.querySelector(\"#content\");\r\n\r\n    this.handleSubmit = this._submit.bind(this);\r\n\r\n    this._init();\r\n  }\r\n\r\n  _init() {\r\n    this.btnSubmit.addEventListener(\"click\", this.handleSubmit);\r\n  }\r\n\r\n  // Добавить ноль перед числом\r\n  _parseNumber(num) {\r\n    let parsedNum = num;\r\n\r\n    return parsedNum < 10 ? \"0\" + parsedNum : parsedNum;\r\n  }\r\n\r\n  _buildDate(date) {\r\n    // dd.mm.YYYY hh:mm\r\n    let day = this._parseNumber(date.getDate());\r\n    let month = this._parseNumber(date.getMonth() + 1);\r\n    let year = date.getFullYear();\r\n\r\n    let hours = this._parseNumber(date.getHours());\r\n    let minutes = this._parseNumber(date.getMinutes());\r\n\r\n    return `${day}.${month}.${year} ${hours}:${minutes}`;\r\n  }\r\n\r\n  // Метод отправки зависит от аргумента method\r\n  _send(data, method) {\r\n    let url = \"/api/data\";\r\n\r\n    if (method == \"PUT\") url = url + `/${data.id}`;\r\n\r\n    const btnNode = document.querySelector(\"btnEdit\");\r\n    const id = btnNode.getAttribute(\"data-id\");\r\n\r\n    fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => new List(this.listContainer, data.list))\r\n      .then((data) =>\r\n        data.list.forEach((item) => {\r\n          if (id == item.id) {\r\n            new Content(this.contentContainer, item);\r\n          }\r\n        })\r\n      )\r\n      .catch((error) => console.error(error));\r\n  }\r\n\r\n  _setMetaData(id, date) {\r\n    // Если мы редактирует, то метаданные уже есть и менять их не будем\r\n    if (this.idField.value && this.dateField.value) return;\r\n\r\n    this.idField.value = id;\r\n    this.dateField.value = date;\r\n  }\r\n\r\n  _submit(event) {\r\n    event.preventDefault();\r\n    const currentMethod = this.form.getAttribute(\"data-method\");\r\n\r\n    const currentDate = new Date();\r\n    this._setMetaData(currentDate.getTime(), this._buildDate(currentDate));\r\n\r\n    const formData = new FormData(this.form);\r\n    const data = {};\r\n    if (!this.form.checkValidity()) {\r\n      this.form.classList.add(\"invalid\");\r\n    } else {\r\n      this.form.classList.remove(\"invalid\");\r\n\r\n      for (const [name, value] of formData) {\r\n        data[name] = value;\r\n      }\r\n\r\n      this._send(data, currentMethod);\r\n\r\n      resetForm(this.form);\r\n      $(\"#formModal\").modal(\"hide\"); // Открыть модальное окно\r\n    }\r\n  }\r\n}\r\n","import { Form } from \"./form\";\r\nimport { List } from \"./list\";\r\nimport { resetForm } from \"./reset-form\";\r\n\r\nconst formNode = document.querySelector(\"#form\");\r\nnew Form(formNode);\r\n\r\n// ---------------------------------------------------\r\n\r\nconst createBtnNode = document.querySelector(\"#createBtn\");\r\ncreateBtnNode.addEventListener(\"click\", () => {\r\n  formNode.setAttribute(\"data-method\", \"POST\");\r\n  resetForm(formNode);\r\n  $(\"#formModal\").modal(\"show\");\r\n});\r\n\r\nconst listNode = document.querySelector(\"#list\");\r\n\r\nfetch(\"/api/data\", { method: \"GET\" })\r\n  .then((response) => response.json())\r\n  .then((data) => new List(listNode, data.list))\r\n  .catch((error) => console.error(error));\r\n"]}